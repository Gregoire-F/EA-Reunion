<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./src/output.css">
    <title>Tableau de bord</title>
    <style>:root { --header-h: 64px; }</style>
</head>
<body class="body-board bg-neutral-100 font-[manrope]">
    
    <!-- HEADER -->
    <header class="fixed w-full p-4 top-0 left-0 flex items-center justify-between bg-[#101828] z-50">
      <div class="text-white text-xl font-semibold"><a href="./index.html">Les EA</a></div>
      
      <div class="flex items-center gap-4">
        <!-- BURGER MENU -->
        <button id="burger-menu">
          <span></span>
          <span></span>
          <span></span>
        </button>

        <!-- BOUTON DÃ‰CONNEXION -->
        <button id="btn-deconnexion" class="bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 max-sm:px-2 max-sm:py-1 max-sm:text-xs">
          DÃ©connexion
        </button>
      </div>
    </header>

    <!-- OVERLAY (clique pour fermer le menu) -->
    <div id="sidebar-overlay" class="sidebar-overlay"></div>

    <div class="board-container">
      
      <!-- ASIDE NAVIGATION -->
      <aside>
        <nav class="space-y-2 p-4">
          <div class="sidebar-item active" data-tab="profil">
            ğŸ‘¤ Mon Profil
          </div>
          <div class="sidebar-item" data-tab="favoris">
            â¤ï¸ Mes Favoris
          </div>
          <div class="sidebar-item" data-tab="cv">
            ğŸ“„ Mes CV
          </div>
          <div class="sidebar-item" data-tab="messages">
            ğŸ’¬ Messagerie
          </div>
          <div class="sidebar-item" data-tab="candidatures">
            ğŸ“‹ Mes Candidatures
          </div>
        </nav>
      </aside>

      <!-- CONTENU PRINCIPAL -->
      <main>

        <!-- MESSAGE DE BIENVENUE -->
        <div class="welcome-box bg-white rounded-lg shadow p-6 mb-6">
          <h1 class="text-3xl font-bold mb-2" id="welcome-title">Bienvenue</h1>
          <p class="text-gray-600">GÃ©rez votre profil, vos candidatures et communiquez avec les entreprises</p>
        </div>

        <!-- ONGLET 1: MON PROFIL -->
        <div id="profil" class="tab-content active">
          <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">ğŸ‘¤ Mon Profil</h2>
            
            <div class="bg-gray-50 rounded-lg p-6 mb-6">
              <div class="flex gap-6 mb-6 max-sm:flex-col">
                <div>
                  <img id="profile-avatar" src="" alt="Avatar" class="w-24 h-24 rounded-full border-4 border-green-700">
                  <button class="mt-4 bg-green-700 text-white px-4 py-2 rounded text-sm hover:bg-green-600 w-full max-sm:text-xs">
                    Changer la photo
                  </button>
                </div>
                
                <div class="flex-1">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700">PrÃ©nom</label>
                      <p id="profile-prenom" class="text-lg font-semibold">-</p>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700">Nom</label>
                      <p id="profile-nom" class="text-lg font-semibold">-</p>
                    </div>
                  </div>
                  
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Email</label>
                    <p id="profile-email" class="text-lg font-semibold">-</p>
                  </div>
                </div>
              </div>

              <button id="btn-modifier-profil" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 w-full max-sm:text-sm">
                âœï¸ Modifier mon profil
              </button>
            </div>

            <!-- Formulaire modification (cachÃ© par dÃ©faut) -->
            <div id="form-modifier-profil" class="hidden bg-white rounded-lg border-2 border-blue-400 p-6">
              <h3 class="text-xl font-bold mb-4">Modifier mon profil</h3>
              <form id="formModifierProfil" class="space-y-4">
                <input type="text" id="edit-prenom" placeholder="PrÃ©nom" class="border rounded p-3 w-full" />
                <input type="text" id="edit-nom" placeholder="Nom" class="border rounded p-3 w-full" />
                <input type="email" id="edit-email" placeholder="Email" class="border rounded p-3 w-full" />
                <textarea id="edit-bio" placeholder="Biographie" rows="4" class="border rounded p-3 w-full"></textarea>
                
                <div class="flex gap-4 max-sm:flex-col">
                  <button type="submit" class="bg-green-700 text-white px-6 py-2 rounded hover:bg-green-600 flex-1">
                    ğŸ’¾ Sauvegarder
                  </button>
                  <button type="button" id="btn-annuler" class="bg-gray-400 text-white px-6 py-2 rounded hover:bg-gray-500 flex-1">
                    âŒ Annuler
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- ONGLET 2: MES FAVORIS -->
        <div id="favoris" class="tab-content">
          <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">â¤ï¸ Mes Offres SauvegardÃ©es</h2>
            <div id="favoris-container" class="space-y-4"></div>
          </div>
        </div>

        <!-- ONGLET 3: MES CV -->
        <div id="cv" class="tab-content">
          <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">ğŸ“„ Mes CV</h2>
            
            <div class="bg-green-50 rounded-lg p-6 mb-6">
              <h3 class="font-bold mb-4">Uploader un nouveau CV</h3>
              <form id="formUploadCV" enctype="multipart/form-data" class="space-y-4">
                <input type="text" placeholder="Nom du CV (ex: CV - DevWeb 2025)" class="border rounded p-3 w-full" id="cv-name" required />
                <input type="file" accept=".pdf,.doc,.docx" class="border rounded p-3 w-full" id="cv-file" required />
                <button type="submit" class="bg-green-700 text-white px-6 py-2 rounded hover:bg-green-600 w-full max-sm:text-sm">
                  ğŸ“¤ Uploader
                </button>
              </form>
            </div>

            <div id="cv-container" class="space-y-4"></div>
          </div>
        </div>

        <!-- ONGLET 4: MESSAGERIE -->
        <div id="messages" class="tab-content">
          <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">ğŸ’¬ Messagerie</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <!-- Liste des conversations -->
              <div class="border rounded-lg overflow-hidden">
                <div class="bg-gray-100 p-4 border-b font-bold text-sm">Conversations</div>
                <div id="conversations-list" class="divide-y max-h-96 overflow-y-auto">
                  <p class="p-4 text-gray-500 text-sm">Aucune conversation</p>
                </div>
              </div>

              <!-- Zone de discussion -->
              <div class="md:col-span-2 border rounded-lg overflow-hidden flex flex-col">
                <div class="bg-gray-100 p-4 border-b font-bold text-sm" id="chat-header">
                  SÃ©lectionnez une conversation
                </div>
                <div id="messages-container" class="flex-1 p-4 overflow-y-auto bg-white space-y-4 min-h-96">
                  <p class="text-gray-500 text-center mt-10 text-sm">SÃ©lectionnez une conversation pour voir les messages</p>
                </div>
                <form id="formEnvoieMessage" class="border-t p-4 bg-gray-50 hidden">
                  <div class="flex gap-2 max-sm:flex-col">
                    <input type="text" id="message-input" placeholder="Votre message..." class="border rounded p-3 flex-1 text-sm" />
                    <button type="submit" class="bg-green-700 text-white px-4 py-2 rounded hover:bg-green-600 text-sm">
                      ğŸ“¨ Envoyer
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- ONGLET 5: MES CANDIDATURES -->
        <div id="candidatures" class="tab-content">
          <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-2xl font-bold mb-6">ğŸ“‹ Mes Candidatures</h2>
            <div id="candidatures-container" class="space-y-4">
              <p class="text-gray-600">Vos candidatures apparaÃ®tront ici.</p>
            </div>
          </div>
        </div>

      </main>
    </div>
    <script src="dashboard.js"></script>
</body>
</html>